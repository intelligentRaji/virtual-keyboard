{"version":3,"file":"main.8d1283fd40250d003a76.js","mappings":"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","sources":["webpack://my-webpack-project/./src/ts/components/BaseComponent.ts","webpack://my-webpack-project/./src/ts/footer/Footer.ts","webpack://my-webpack-project/./src/ts/components/Key.ts","webpack://my-webpack-project/./src/ts/components/SpecialKey.ts","webpack://my-webpack-project/./src/ts/main/Keyboard.ts","webpack://my-webpack-project/./src/ts/main/TextArea.ts","webpack://my-webpack-project/./src/ts/main/Main.ts","webpack://my-webpack-project/./src/ts/index.ts"],"sourcesContent":["export interface BaseObject {\r\n  tag?: keyof HTMLElementTagNameMap;\r\n  parent: HTMLElement;\r\n  className?: string;\r\n  text?: string;\r\n}\r\n\r\nexport class BaseComponent<T extends HTMLElement = HTMLElement> {\r\n  public readonly element: T;\r\n\r\n  constructor({ tag = \"div\", parent, className, text }: BaseObject) {\r\n    this.element = document.createElement(tag) as T;\r\n    if (className) {\r\n      this.element.className = className;\r\n    }\r\n    if (parent) {\r\n      parent.append(this.element);\r\n    }\r\n    if (text) {\r\n      this.element.innerHTML = text;\r\n    }\r\n  }\r\n}\r\n","import { BaseComponent } from \"../components/BaseComponent\";\r\n\r\nexport class Footer extends BaseComponent {\r\n  private languageInstructions: BaseComponent;\r\n\r\n  constructor(parent: HTMLElement) {\r\n    super({ parent, className: \"footer\" });\r\n    this.languageInstructions = new BaseComponent<HTMLParagraphElement>({\r\n      tag: \"p\",\r\n      parent: this.element,\r\n      text: `Смена языка Shift + Ctrl. <br> Клавиатура сделана на системе Windows`,\r\n      className: \"instructions\",\r\n    });\r\n  }\r\n}\r\n","import { BaseComponent } from \"./BaseComponent\";\nimport { KeyInterface } from \"../interfaces/keyInterface\";\n\nexport class Key extends BaseComponent {\n  protected readonly textarea: HTMLTextAreaElement;\n  protected static capslock = false;\n  protected static language: \"english\" | \"russian\";\n  protected static shift = false;\n  protected english!: { code: string; second?: string } | null;\n  protected russian!: { code: string; second?: string } | null;\n\n  constructor({\n    files,\n    parent,\n    className,\n    textarea,\n  }: {\n    files: KeyInterface;\n    parent: HTMLElement;\n    className: string;\n    textarea: HTMLTextAreaElement;\n  }) {\n    super({\n      tag: \"button\",\n      parent,\n      className: `${className} ${files.key}`,\n    });\n    this.textarea = textarea;\n    Key.language = this.getLanguage();\n    this.getValues(files);\n    this.getFirstValue(files);\n    this.getListeners();\n  }\n\n  public action(): void {\n    const position = this.textarea.selectionStart + 1;\n    this.write();\n    this.moveCursorTo(position);\n    this.addActive();\n  }\n\n  public touchpadAction(): void {}\n\n  protected moveCursorTo(position: number): void {\n    this.textarea.setSelectionRange(position, position);\n  }\n\n  private write(): void {\n    this.textarea.value = `${this.textarea.value.slice(\n      0,\n      this.textarea.selectionStart\n    )}${this.element.textContent}${this.textarea.value.slice(\n      this.textarea.selectionStart\n    )}`;\n  }\n\n  public addActive(): void {\n    this.element.classList.add(\"active\");\n    this.textarea.focus();\n  }\n\n  public removeActive(): void {\n    this.element.classList.remove(\"active\");\n    this.textarea.focus();\n  }\n\n  private getListeners(): void {\n    this.element.addEventListener(\"mousedown\", () => {\n      if (this.element.textContent !== \"Shift\") {\n        this.action();\n      }\n    });\n    this.element.addEventListener(\"mouseup\", () => {\n      if (this.element.textContent !== \"Shift\") {\n        this.removeActive();\n      }\n    });\n    this.element.addEventListener(\"mouseout\", () => {\n      if (this.element.textContent !== \"Shift\") {\n        this.removeActive();\n      }\n    });\n    if (this.element.textContent === \"Shift\") {\n      this.element.addEventListener(\"click\", this.touchpadAction.bind(this));\n    }\n  }\n\n  protected getValues(files: KeyInterface): void {\n    if (files.russian) {\n      this.russian = files.russian;\n    } else {\n      this.russian = null;\n    }\n    if (files.english) {\n      this.english = files.english;\n    } else {\n      this.english = null;\n    }\n  }\n\n  public getSecondValue(): void {\n    switch (Key.language) {\n      case \"english\":\n        if (this.english?.second) {\n          this.element.textContent = this.english.second;\n        }\n        break;\n\n      case \"russian\":\n        if (this.russian?.second) {\n          this.element.textContent = this.russian.second;\n        }\n        break;\n\n      default:\n    }\n  }\n\n  public getLanguage(): \"english\" | \"russian\" {\n    const lang = localStorage.getItem(\"language\");\n    if (lang === \"english\" || lang === \"russian\") {\n      return lang;\n    }\n    return \"english\";\n  }\n\n  protected changeLanguage(): void {\n    switch (Key.language) {\n      case \"english\":\n        localStorage.language = \"russian\";\n        Key.language = \"russian\";\n        break;\n\n      case \"russian\":\n        localStorage.language = \"english\";\n        Key.language = \"english\";\n        break;\n\n      default:\n    }\n  }\n\n  public getFirstValue(files: KeyInterface): void {\n    switch (Key.language) {\n      case \"english\":\n        if (!this.english) {\n          this.element.textContent = files.key;\n        } else {\n          this.element.textContent = this.english.code;\n        }\n        break;\n\n      case \"russian\":\n        if (!this.russian) {\n          this.element.textContent = files.key;\n        } else {\n          this.element.textContent = this.russian.code;\n        }\n        break;\n\n      default:\n    }\n  }\n}\n","import { Key } from \"./Key\";\r\nimport { KeyInterface } from \"../interfaces/keyInterface\";\r\nimport type { KeysRecord } from \"../main/Keyboard\";\r\n\r\nexport class SpecialKey extends Key {\r\n  private readonly keys: KeysRecord;\r\n  private readonly files: KeyInterface;\r\n\r\n  constructor({\r\n    files,\r\n    parent,\r\n    className,\r\n    textarea,\r\n    keys,\r\n  }: {\r\n    files: KeyInterface;\r\n    parent: HTMLElement;\r\n    className: string;\r\n    textarea: HTMLTextAreaElement;\r\n    keys: KeysRecord;\r\n  }) {\r\n    super({\r\n      files,\r\n      parent,\r\n      className,\r\n      textarea,\r\n    });\r\n    this.keys = keys;\r\n    this.files = files;\r\n  }\r\n  public action(): void {\r\n    switch (this.element.textContent) {\r\n      case \"CapsLock\":\r\n        this.capslockAction();\r\n        break;\r\n\r\n      case \"Backspace\":\r\n        this.backspaceAction();\r\n        break;\r\n\r\n      case \"Tab\":\r\n        this.tabAction();\r\n        break;\r\n\r\n      case \"Alt\":\r\n        this.altAction();\r\n        break;\r\n\r\n      case \"Shift\":\r\n        this.shiftAction();\r\n        break;\r\n\r\n      case \"Del\":\r\n        this.deleteAction();\r\n        break;\r\n\r\n      case \"Enter\":\r\n        this.enterAction();\r\n        break;\r\n\r\n      case \"◀\":\r\n        this.leftAction();\r\n        break;\r\n\r\n      case \"▶\":\r\n        this.rightAction();\r\n        break;\r\n\r\n      case \"▲\":\r\n        this.upAction();\r\n        break;\r\n\r\n      case \"▼\":\r\n        this.downAction();\r\n        break;\r\n\r\n      default:\r\n    }\r\n    this.addActive();\r\n  }\r\n\r\n  public touchpadAction(): void {\r\n    if (this.element.textContent === \"Shift\") {\r\n      this.shiftTouchAction();\r\n    }\r\n  }\r\n\r\n  private capslockAction(): void {\r\n    Object.entries(this.keys).forEach((item: [string, Key | SpecialKey]) => {\r\n      if (item[1].element.textContent?.match(/^[a-zA-Zа-яА-Я]$/)) {\r\n        const key: Key | SpecialKey = item[1];\r\n        if (key.element.textContent) {\r\n          if (Key.capslock === false) {\r\n            key.element.textContent = key.element.textContent.toUpperCase();\r\n          } else {\r\n            key.element.textContent = key.element.textContent.toLowerCase();\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (Key.capslock === false) {\r\n      Key.capslock = true;\r\n    } else {\r\n      Key.capslock = false;\r\n    }\r\n  }\r\n\r\n  private backspaceAction(): void {\r\n    if (this.textarea.selectionStart > 0) {\r\n      const position = this.textarea.selectionStart - 1;\r\n      this.textarea.value = `${this.textarea.value.slice(\r\n        0,\r\n        this.textarea.selectionStart - 1\r\n      )}${this.textarea.value.slice(this.textarea.selectionStart)}`;\r\n      this.moveCursorTo(position);\r\n    }\r\n  }\r\n\r\n  private deleteAction(): void {\r\n    const position = this.textarea.selectionStart;\r\n    this.textarea.value = `${this.textarea.value.slice(\r\n      0,\r\n      this.textarea.selectionStart\r\n    )}${this.textarea.value.slice(this.textarea.selectionStart + 1)}`;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  private tabAction(): void {\r\n    const position = this.textarea.selectionStart + 1;\r\n    this.textarea.value = `${this.textarea.value.slice(\r\n      0,\r\n      this.textarea.selectionStart\r\n    )}\\t${this.textarea.value.slice(this.textarea.selectionStart)}`;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  private shiftAction(): void {\r\n    Key.shift = true;\r\n    Object.values(this.keys).forEach((item: Key | SpecialKey) =>\r\n      item.getSecondValue()\r\n    );\r\n  }\r\n\r\n  private shiftTouchAction(): void {\r\n    if (Key.shift) {\r\n      Key.shift = false;\r\n      Object.values(this.keys).forEach((item: Key | SpecialKey) =>\r\n        item.getFirstValue(this.files)\r\n      );\r\n    } else {\r\n      Key.shift = true;\r\n      Object.values(this.keys).forEach((item: Key | SpecialKey) =>\r\n        item.getSecondValue()\r\n      );\r\n    }\r\n    this.element.classList.toggle(\"active\");\r\n  }\r\n\r\n  private altAction(): void {\r\n    if (Key.shift) {\r\n      this.changeLanguage();\r\n      Object.values(this.keys).forEach((item) => {\r\n        item.getSecondValue();\r\n      });\r\n    }\r\n  }\r\n\r\n  private enterAction(): void {\r\n    const position = this.textarea.selectionStart + 1;\r\n    this.textarea.value = `${this.textarea.value.slice(\r\n      0,\r\n      this.textarea.selectionStart\r\n    )}\\n${this.textarea.value.slice(this.textarea.selectionStart)}`;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  public addActive(): void {\r\n    super.addActive();\r\n    if (this.element.textContent === \"Alt gr\") {\r\n      this.keys.ControlLeft.element.classList.remove(\"active\");\r\n    }\r\n  }\r\n\r\n  private leftAction(): void {\r\n    const position = this.textarea.selectionStart - 1;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  private rightAction(): void {\r\n    const position = this.textarea.selectionStart + 1;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  private upAction(): void {\r\n    const position = this.textarea.selectionStart + 1;\r\n    this.textarea.value = `${this.textarea.value.slice(\r\n      0,\r\n      this.textarea.selectionStart\r\n    )}${this.element.textContent}${this.textarea.value.slice(\r\n      this.textarea.selectionStart\r\n    )}`;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  private downAction(): void {\r\n    const position = this.textarea.selectionStart + 1;\r\n    this.textarea.value = `${this.textarea.value.slice(\r\n      0,\r\n      this.textarea.selectionStart\r\n    )}${this.element.textContent}${this.textarea.value.slice(\r\n      this.textarea.selectionStart\r\n    )}`;\r\n    this.moveCursorTo(position);\r\n  }\r\n\r\n  public removeActive(): void {\r\n    super.removeActive();\r\n    if (this.element.textContent === \"Shift\") {\r\n      Key.shift = false;\r\n      Object.values(this.keys).forEach((item: Key | SpecialKey) =>\r\n        item.getFirstValue(this.files)\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { BaseComponent } from \"../components/BaseComponent\";\r\nimport keysJSON from \"../../json/keyboard.json\";\r\nimport { Key } from \"../components/Key\";\r\nimport { KeyInterface } from \"../interfaces/keyInterface\";\r\nimport { SpecialKey } from \"../components/SpecialKey\";\r\n\r\nexport type KeysRecord = Record<string, Key | SpecialKey>;\r\n\r\nexport class Keyboard extends BaseComponent {\r\n  public keys: KeysRecord;\r\n  public readonly textarea: HTMLTextAreaElement;\r\n\r\n  constructor(parent: HTMLElement, textarea: HTMLTextAreaElement) {\r\n    super({ className: \"keyboard\", parent });\r\n    this.textarea = textarea;\r\n    this.keys = this.getKeys();\r\n\r\n    document.addEventListener(\"keydown\", (e): void => {\r\n      if (!e.repeat) {\r\n        if (this.keys[e.code]) {\r\n          e.preventDefault();\r\n          this.keys[e.code].action();\r\n        }\r\n      }\r\n    });\r\n\r\n    document.addEventListener(\"keyup\", (e): void => {\r\n      if (this.keys[e.code]) {\r\n        e.preventDefault();\r\n        this.keys[e.code].removeActive();\r\n      }\r\n    });\r\n  }\r\n\r\n  private getKeys(): KeysRecord {\r\n    let row = new BaseComponent({ className: \"row\", parent: this.element });\r\n    return keysJSON.reduce((acc: KeysRecord, cur: KeyInterface) => {\r\n      switch (cur.key) {\r\n        case \"Tab\":\r\n        case \"CapsLock\":\r\n        case \"ControlLeft\":\r\n        case \"ShiftLeft\":\r\n          row = new BaseComponent({ className: \"row\", parent: this.element });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n      acc[cur.key] = this.getKeyClass(cur, row.element, acc);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  private getKeyClass(\r\n    json: KeyInterface,\r\n    row: HTMLElement,\r\n    keys: KeysRecord\r\n  ): Key {\r\n    if (json.special) {\r\n      return new SpecialKey({\r\n        files: json,\r\n        parent: row,\r\n        className: \"key special\",\r\n        textarea: this.textarea,\r\n        keys,\r\n      });\r\n    }\r\n    return new Key({\r\n      files: json,\r\n      parent: row,\r\n      className: \"key\",\r\n      textarea: this.textarea,\r\n    });\r\n  }\r\n}\r\n","import { BaseComponent } from \"../components/BaseComponent\";\r\n\r\nexport class TextArea extends BaseComponent<HTMLTextAreaElement> {\r\n  constructor(parent: HTMLElement) {\r\n    super({ tag: \"textarea\", parent, className: \"textarea\" });\r\n    this.element.autocomplete = \"off\";\r\n    this.element.rows = 6;\r\n    this.element.focus();\r\n  }\r\n}\r\n","import { BaseComponent } from \"../components/BaseComponent\";\r\nimport { Keyboard } from \"./Keyboard\";\r\nimport { TextArea } from \"./TextArea\";\r\n\r\nexport class Main extends BaseComponent {\r\n  public readonly textarea: TextArea;\r\n  public readonly keyBoard: Keyboard;\r\n\r\n  constructor() {\r\n    super({ tag: \"main\", parent: document.body, className: \"main\" });\r\n    this.textarea = new TextArea(this.element);\r\n    this.keyBoard = new Keyboard(this.element, this.textarea.element);\r\n  }\r\n}\r\n","import \"../style/style.scss\";\r\nimport { Footer } from \"./footer/Footer\";\r\n\r\nimport { Main } from \"./main/Main\";\r\n\r\nif (!localStorage.getItem(\"language\")) {\r\n  localStorage.setItem(\"language\", \"english\");\r\n}\r\n\r\nconst main = new Main();\r\nconst footer = new Footer(document.body);\r\n"],"names":["BaseComponent","tag","parent","className","text","Footer","Key","files","textarea","position","lang","SpecialKey","keys","item","key","Keyboard","e","row","acc","cur","json","TextArea","Main","main","footer"],"sourceRoot":""}